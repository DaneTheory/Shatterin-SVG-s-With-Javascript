{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/whatwg-fetch/fetch.js","src/js/AuthVerification.js","src/js/Configs.js","src/js/Globals.js","src/js/LogoAnimation.js","src/js/Utils.js","src/js/scripts.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7cA;;AAGA,IAAM,mBAAmB,SAAnB,gBAAmB,GAAM;AAC7B,MAAM,aAAa,SAAS,aAAT,CAAuB,2BAA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","file":"scripts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import 'whatwg-fetch'\n\n\nconst AuthVerification = () => {\n  const sumbitBttn = document.querySelector('#verificationSumbitButton')\n  const authInputEl = document.querySelector('#inputAuth')\n  const authEndpoint = `https://jp.neimanmarcus.com.localised.com/Prod/login`\n\n  const successEl = document.querySelector('.done')\n  const failEl = document.querySelector('.failed')\n\n  let isLoading\n\n  const beginFetch = () => {\n    sumbitBttn.classList.remove('verificationSumbitButton')\n    sumbitBttn.classList.add('spinner')\n    return reqApi()\n  }\n\n  const endFetch = () => {\n    sumbitBttn.classList.remove('spinner')\n    return reqApi()\n  }\n\n  const reqApi = async (resStatus) => {\n    const mockReq = await setTimeout(() => {\n      resStatus = true\n      return resStatus ? onSuccess() : onFailure()\n    }, 5000)\n    return mockReq\n  }\n\n  const onSuccess = async() => {\n    const mockSuccess = async() => {\n      sumbitBttn.classList.add('hide-loading')\n      sumbitBttn.classList.remove('spinner')\n      return document.getElementById('login_success').style.visibility = 'visible'\n    }\n    return await mockSuccess()\n      .then(()=> resetSubmitState())\n      .catch((e) => {\n        const err = new Error(e)\n        console.log(e)\n        return err\n      })\n  }\n\n  const onFailure = async() => {\n    const mockFailure = async() => {\n      sumbitBttn.classList.add('hide-loading')\n      sumbitBttn.classList.remove('spinner')\n      return document.getElementById('login_fail').style.visibility = 'visible'\n    }\n    return await mockFailure()\n      .then(()=> resetSubmitState())\n      .catch((e) => {\n        const err = new Error(e)\n        console.log(e)\n        return err\n      })\n  }\n\n  const resetSubmitState = async() => {\n    const reset = await setTimeout(() => {\n      sumbitBttn.classList.remove('hide-loading')\n      document.getElementById('login_success').style.visibility = 'hidden'\n      document.getElementById('login_fail').style.visibility = 'hidden'\n      sumbitBttn.classList.add('verificationSumbitButton')\n    }, 2500)\n    return reset\n  }\n\n  const validateEmailHandler = (emailAddress) => /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(emailAddress) ? true : false\n\n  const loginWithEmailAddress = async(emailVal) => {\n    try {\n      const login = await fetch(authEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: emailVal,\n        })\n      })\n      return login\n    } catch(e) {\n      const err = new Error(e)\n      console.log(err)\n      return err\n    }\n  }\n\n\n  const submitUserInput = () => {\n    const authSuccessRes = 'Authentication successful'\n    const validEmail = 'alpha.neimanmarcus@localised.com'\n    const invalidEmail = 'badEmail.neimanmarcus@localised.com'\n\n    isLoading = false\n    const isInValidEmailInputMessage = `The email address provided is not a valid email format`\n    const isInValidEmailMessage = `The email address provided is not authorized for access`\n\n    return Promise.resolve(isLoading)\n      .then(() => validateEmailHandler(authInputEl.value))\n      .then(isVaildFormatCheck => {\n        return isVaildFormatCheck ? (() => {\n          document.querySelector('#verification_message').textContent = ''\n          return true\n        })()\n        :\n        (() => {\n          document.querySelector('#verification_message').textContent = isInValidEmailInputMessage\n          return false\n        })()\n      })\n      .then(inputVal => inputVal ? loginWithEmailAddress(authInputEl.value) : null)\n      .then(res => {\n        // console.log(res.json())\n        return res.json()\n      })\n      .then(data => {\n        // console.log(data)\n        // console.log(data.message)\n        return data.message === authSuccessRes ? true : false\n      })\n      .then(res => {\n        // console.log(res)\n        // console.log(window.location.pathname)\n        return res ? window.location.replace(window.location.pathname = '/') : null\n      })\n      // .then(inputVal => inputVal ? beginFetch(isLoading) : endFetch(isLoading))\n      .catch((e) => {\n        const err = new Error(e)\n        console.log(e)\n        return err\n      })\n  }\n\n  sumbitBttn.addEventListener('click', submitUserInput, false)\n}\n\nexport default AuthVerification\n","export const TMaxConfig = {\n  logoPathsArray: Array.from(document.querySelectorAll('#logo *:not(.logo_icon)')),\n  animationOptions: {\n    onStart: () => console.log(''),\n    onComplete: () => console.log(''),\n    onCompleteAll: () => console.log(''),\n    immediateRender: true,\n    lazy: true,\n    repeat: 0,\n    repeatDelay: 0,\n    yoyo: false,\n    timeScaleVal: 0.45\n  },\n  staggerOptions: {\n    duration: 1,\n    val: 0.01111115,\n    result: {\n      x: 0,\n      y: 0,\n      opacity: 1,\n      scale: 1,\n      rotation: 0\n    }\n  }\n}\n","import { TMaxConfig } from './Configs'\n\n\nexport const TlMax = (() => {\n  const tlMax = new TimelineMax(TMaxConfig.animationOptions)\n  CSSPlugin.useSVGTransformAttr = true\n  tlMax.data = {\n    someData: 'hello'\n  }\n  tlMax.smoothChildTiming = true\n  tlMax.timeScale(TMaxConfig.animationOptions.timeScaleVal)\n  return tlMax\n})()\n","import { TlMax } from './Globals'\nimport { TMaxConfig } from './Configs'\nimport { Randomize } from './Utils'\n\n\nconst LogoAnimation = () => {\n  return Promise.resolve()\n    .then(() => {\n      const cssToAnimate = (svgPath) => {\n        return TlMax.set(svgPath, {\n          x: Randomize(-3000, 1500),\n          y: Randomize(-1000, 2500),\n          rotation: Randomize(-520, 520),\n          scale: Randomize(0, 15),\n          opacity: Randomize(-5, -1)\n        })\n      }\n      return TMaxConfig.logoPathsArray.map(path => cssToAnimate(path))\n    })\n    .then(() => {\n      return TlMax.staggerTo(\n        TMaxConfig.logoPathsArray,\n        TMaxConfig.staggerOptions.duration,\n        TMaxConfig.staggerOptions.result,\n        TMaxConfig.staggerOptions.val\n      )\n    })\n    .catch(e => {\n      const errObj = new Error(e)\n      console.log(errObj)\n      return errObj\n    })\n}\n\n\nexport default LogoAnimation\n","export const Randomize = (min, max) => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport const Extend = (a, b) => {\n  for(var key in b) {\n    if( b.hasOwnProperty( key ) ) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n}\n\nexport const CreateDOMEl = (type, className, content) => {\n  var el = document.createElement(type);\n  el.className = className || '';\n  el.innerHTML = content || '';\n  return el;\n}\n","import LogoAnimation from './LogoAnimation'\nimport AuthVerification from './AuthVerification'\n\n\n((window, document, undefined) => {\n\n  // SVG Logo Animation\n  LogoAnimation()\n\n  // Verify Auth Access\n  AuthVerification()\n\n})(window, document)\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwic3JjL2pzL0F1dGhWZXJpZmljYXRpb24uanMiLCJzcmMvanMvQ29uZmlncy5qcyIsInNyYy9qcy9HbG9iYWxzLmpzIiwic3JjL2pzL0xvZ29BbmltYXRpb24uanMiLCJzcmMvanMvVXRpbHMuanMiLCJzcmMvanMvc2NyaXB0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUM3Y0E7O0FBR0EsSUFBTSxtQkFBbUIsU0FBbkIsZ0JBQW1CLEdBQU07QUFDN0IsTUFBTSxhQUFhLFNBQVMsYUFBVCxDQUF1QiwyQkFBdkIsQ0FBbkI7QUFDQSxNQUFNLGNBQWMsU0FBUyxhQUFULENBQXVCLFlB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LEdBQWUsV0FBVyxFQUExQjtBQUNBLFNBQU8sRUFBUDtBQUNELENBTE07Ozs7O0FDZlA7Ozs7QUFDQTs7Ozs7O0FBR0EsQ0FBQyxVQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLFNBQW5CLEVBQWlDOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFFRCxDQVJELEVBUUcsTUFSSCxFQVFXLFFBUlgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgdXJsOiB0aGlzLnVybFxuICAgIH0pXG4gIH1cblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG4gIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG4gIH1cblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsImltcG9ydCAnd2hhdHdnLWZldGNoJ1xuXG5cbmNvbnN0IEF1dGhWZXJpZmljYXRpb24gPSAoKSA9PiB7XG4gIGNvbnN0IHN1bWJpdEJ0dG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdmVyaWZpY2F0aW9uU3VtYml0QnV0dG9uJylcbiAgY29uc3QgYXV0aElucHV0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXRBdXRoJylcbiAgY29uc3QgYXV0aEVuZHBvaW50ID0gYGh0dHBzOi8vanAubmVpbWFubWFyY3VzLmNvbS5sb2NhbGlzZWQuY29tL1Byb2QvbG9naW5gXG5cbiAgY29uc3Qgc3VjY2Vzc0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvbmUnKVxuICBjb25zdCBmYWlsRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFpbGVkJylcblxuICBsZXQgaXNMb2FkaW5nXG5cbiAgY29uc3QgYmVnaW5GZXRjaCA9ICgpID0+IHtcbiAgICBzdW1iaXRCdHRuLmNsYXNzTGlzdC5yZW1vdmUoJ3ZlcmlmaWNhdGlvblN1bWJpdEJ1dHRvbicpXG4gICAgc3VtYml0QnR0bi5jbGFzc0xpc3QuYWRkKCdzcGlubmVyJylcbiAgICByZXR1cm4gcmVxQXBpKClcbiAgfVxuXG4gIGNvbnN0IGVuZEZldGNoID0gKCkgPT4ge1xuICAgIHN1bWJpdEJ0dG4uY2xhc3NMaXN0LnJlbW92ZSgnc3Bpbm5lcicpXG4gICAgcmV0dXJuIHJlcUFwaSgpXG4gIH1cblxuICBjb25zdCByZXFBcGkgPSBhc3luYyAocmVzU3RhdHVzKSA9PiB7XG4gICAgY29uc3QgbW9ja1JlcSA9IGF3YWl0IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzU3RhdHVzID0gdHJ1ZVxuICAgICAgcmV0dXJuIHJlc1N0YXR1cyA/IG9uU3VjY2VzcygpIDogb25GYWlsdXJlKClcbiAgICB9LCA1MDAwKVxuICAgIHJldHVybiBtb2NrUmVxXG4gIH1cblxuICBjb25zdCBvblN1Y2Nlc3MgPSBhc3luYygpID0+IHtcbiAgICBjb25zdCBtb2NrU3VjY2VzcyA9IGFzeW5jKCkgPT4ge1xuICAgICAgc3VtYml0QnR0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWxvYWRpbmcnKVxuICAgICAgc3VtYml0QnR0bi5jbGFzc0xpc3QucmVtb3ZlKCdzcGlubmVyJylcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5fc3VjY2VzcycpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IG1vY2tTdWNjZXNzKClcbiAgICAgIC50aGVuKCgpPT4gcmVzZXRTdWJtaXRTdGF0ZSgpKVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihlKVxuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICByZXR1cm4gZXJyXG4gICAgICB9KVxuICB9XG5cbiAgY29uc3Qgb25GYWlsdXJlID0gYXN5bmMoKSA9PiB7XG4gICAgY29uc3QgbW9ja0ZhaWx1cmUgPSBhc3luYygpID0+IHtcbiAgICAgIHN1bWJpdEJ0dG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1sb2FkaW5nJylcbiAgICAgIHN1bWJpdEJ0dG4uY2xhc3NMaXN0LnJlbW92ZSgnc3Bpbm5lcicpXG4gICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luX2ZhaWwnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBtb2NrRmFpbHVyZSgpXG4gICAgICAudGhlbigoKT0+IHJlc2V0U3VibWl0U3RhdGUoKSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoZSlcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgcmV0dXJuIGVyclxuICAgICAgfSlcbiAgfVxuXG4gIGNvbnN0IHJlc2V0U3VibWl0U3RhdGUgPSBhc3luYygpID0+IHtcbiAgICBjb25zdCByZXNldCA9IGF3YWl0IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3VtYml0QnR0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWxvYWRpbmcnKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luX3N1Y2Nlc3MnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbl9mYWlsJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gICAgICBzdW1iaXRCdHRuLmNsYXNzTGlzdC5hZGQoJ3ZlcmlmaWNhdGlvblN1bWJpdEJ1dHRvbicpXG4gICAgfSwgMjUwMClcbiAgICByZXR1cm4gcmVzZXRcbiAgfVxuXG4gIGNvbnN0IHZhbGlkYXRlRW1haWxIYW5kbGVyID0gKGVtYWlsQWRkcmVzcykgPT4gL15cXHcrKFtcXC4tXT9cXHcrKSpAXFx3KyhbXFwuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLy50ZXN0KGVtYWlsQWRkcmVzcykgPyB0cnVlIDogZmFsc2VcblxuICBjb25zdCBsb2dpbldpdGhFbWFpbEFkZHJlc3MgPSBhc3luYyhlbWFpbFZhbCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBsb2dpbiA9IGF3YWl0IGZldGNoKGF1dGhFbmRwb2ludCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGVtYWlsOiBlbWFpbFZhbCxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICByZXR1cm4gbG9naW5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihlKVxuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgcmV0dXJuIGVyclxuICAgIH1cbiAgfVxuXG5cbiAgY29uc3Qgc3VibWl0VXNlcklucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGF1dGhTdWNjZXNzUmVzID0gJ0F1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwnXG4gICAgY29uc3QgdmFsaWRFbWFpbCA9ICdhbHBoYS5uZWltYW5tYXJjdXNAbG9jYWxpc2VkLmNvbSdcbiAgICBjb25zdCBpbnZhbGlkRW1haWwgPSAnYmFkRW1haWwubmVpbWFubWFyY3VzQGxvY2FsaXNlZC5jb20nXG5cbiAgICBpc0xvYWRpbmcgPSBmYWxzZVxuICAgIGNvbnN0IGlzSW5WYWxpZEVtYWlsSW5wdXRNZXNzYWdlID0gYFRoZSBlbWFpbCBhZGRyZXNzIHByb3ZpZGVkIGlzIG5vdCBhIHZhbGlkIGVtYWlsIGZvcm1hdGBcbiAgICBjb25zdCBpc0luVmFsaWRFbWFpbE1lc3NhZ2UgPSBgVGhlIGVtYWlsIGFkZHJlc3MgcHJvdmlkZWQgaXMgbm90IGF1dGhvcml6ZWQgZm9yIGFjY2Vzc2BcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaXNMb2FkaW5nKVxuICAgICAgLnRoZW4oKCkgPT4gdmFsaWRhdGVFbWFpbEhhbmRsZXIoYXV0aElucHV0RWwudmFsdWUpKVxuICAgICAgLnRoZW4oaXNWYWlsZEZvcm1hdENoZWNrID0+IHtcbiAgICAgICAgcmV0dXJuIGlzVmFpbGRGb3JtYXRDaGVjayA/ICgoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ZlcmlmaWNhdGlvbl9tZXNzYWdlJykudGV4dENvbnRlbnQgPSAnJ1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0pKClcbiAgICAgICAgOlxuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2ZXJpZmljYXRpb25fbWVzc2FnZScpLnRleHRDb250ZW50ID0gaXNJblZhbGlkRW1haWxJbnB1dE1lc3NhZ2VcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSkoKVxuICAgICAgfSlcbiAgICAgIC50aGVuKGlucHV0VmFsID0+IGlucHV0VmFsID8gbG9naW5XaXRoRW1haWxBZGRyZXNzKGF1dGhJbnB1dEVsLnZhbHVlKSA6IG51bGwpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuanNvbigpKVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgICAgfSlcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpXG4gICAgICAgIHJldHVybiBkYXRhLm1lc3NhZ2UgPT09IGF1dGhTdWNjZXNzUmVzID8gdHJ1ZSA6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKVxuICAgICAgICAvLyBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgICAgIHJldHVybiByZXMgPyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPSAnLycpIDogbnVsbFxuICAgICAgfSlcbiAgICAgIC8vIC50aGVuKGlucHV0VmFsID0+IGlucHV0VmFsID8gYmVnaW5GZXRjaChpc0xvYWRpbmcpIDogZW5kRmV0Y2goaXNMb2FkaW5nKSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoZSlcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgcmV0dXJuIGVyclxuICAgICAgfSlcbiAgfVxuXG4gIHN1bWJpdEJ0dG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdWJtaXRVc2VySW5wdXQsIGZhbHNlKVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdXRoVmVyaWZpY2F0aW9uXG4iLCJleHBvcnQgY29uc3QgVE1heENvbmZpZyA9IHtcbiAgbG9nb1BhdGhzQXJyYXk6IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2xvZ28gKjpub3QoLmxvZ29faWNvbiknKSksXG4gIGFuaW1hdGlvbk9wdGlvbnM6IHtcbiAgICBvblN0YXJ0OiAoKSA9PiBjb25zb2xlLmxvZygnJyksXG4gICAgb25Db21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJycpLFxuICAgIG9uQ29tcGxldGVBbGw6ICgpID0+IGNvbnNvbGUubG9nKCcnKSxcbiAgICBpbW1lZGlhdGVSZW5kZXI6IHRydWUsXG4gICAgbGF6eTogdHJ1ZSxcbiAgICByZXBlYXQ6IDAsXG4gICAgcmVwZWF0RGVsYXk6IDAsXG4gICAgeW95bzogZmFsc2UsXG4gICAgdGltZVNjYWxlVmFsOiAwLjQ1XG4gIH0sXG4gIHN0YWdnZXJPcHRpb25zOiB7XG4gICAgZHVyYXRpb246IDEsXG4gICAgdmFsOiAwLjAxMTExMTE1LFxuICAgIHJlc3VsdDoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICByb3RhdGlvbjogMFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgVE1heENvbmZpZyB9IGZyb20gJy4vQ29uZmlncydcblxuXG5leHBvcnQgY29uc3QgVGxNYXggPSAoKCkgPT4ge1xuICBjb25zdCB0bE1heCA9IG5ldyBUaW1lbGluZU1heChUTWF4Q29uZmlnLmFuaW1hdGlvbk9wdGlvbnMpXG4gIENTU1BsdWdpbi51c2VTVkdUcmFuc2Zvcm1BdHRyID0gdHJ1ZVxuICB0bE1heC5kYXRhID0ge1xuICAgIHNvbWVEYXRhOiAnaGVsbG8nXG4gIH1cbiAgdGxNYXguc21vb3RoQ2hpbGRUaW1pbmcgPSB0cnVlXG4gIHRsTWF4LnRpbWVTY2FsZShUTWF4Q29uZmlnLmFuaW1hdGlvbk9wdGlvbnMudGltZVNjYWxlVmFsKVxuICByZXR1cm4gdGxNYXhcbn0pKClcbiIsImltcG9ydCB7IFRsTWF4IH0gZnJvbSAnLi9HbG9iYWxzJ1xuaW1wb3J0IHsgVE1heENvbmZpZyB9IGZyb20gJy4vQ29uZmlncydcbmltcG9ydCB7IFJhbmRvbWl6ZSB9IGZyb20gJy4vVXRpbHMnXG5cblxuY29uc3QgTG9nb0FuaW1hdGlvbiA9ICgpID0+IHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgY3NzVG9BbmltYXRlID0gKHN2Z1BhdGgpID0+IHtcbiAgICAgICAgcmV0dXJuIFRsTWF4LnNldChzdmdQYXRoLCB7XG4gICAgICAgICAgeDogUmFuZG9taXplKC0zMDAwLCAxNTAwKSxcbiAgICAgICAgICB5OiBSYW5kb21pemUoLTEwMDAsIDI1MDApLFxuICAgICAgICAgIHJvdGF0aW9uOiBSYW5kb21pemUoLTUyMCwgNTIwKSxcbiAgICAgICAgICBzY2FsZTogUmFuZG9taXplKDAsIDE1KSxcbiAgICAgICAgICBvcGFjaXR5OiBSYW5kb21pemUoLTUsIC0xKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIFRNYXhDb25maWcubG9nb1BhdGhzQXJyYXkubWFwKHBhdGggPT4gY3NzVG9BbmltYXRlKHBhdGgpKVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIFRsTWF4LnN0YWdnZXJUbyhcbiAgICAgICAgVE1heENvbmZpZy5sb2dvUGF0aHNBcnJheSxcbiAgICAgICAgVE1heENvbmZpZy5zdGFnZ2VyT3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgVE1heENvbmZpZy5zdGFnZ2VyT3B0aW9ucy5yZXN1bHQsXG4gICAgICAgIFRNYXhDb25maWcuc3RhZ2dlck9wdGlvbnMudmFsXG4gICAgICApXG4gICAgfSlcbiAgICAuY2F0Y2goZSA9PiB7XG4gICAgICBjb25zdCBlcnJPYmogPSBuZXcgRXJyb3IoZSlcbiAgICAgIGNvbnNvbGUubG9nKGVyck9iailcbiAgICAgIHJldHVybiBlcnJPYmpcbiAgICB9KVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IExvZ29BbmltYXRpb25cbiIsImV4cG9ydCBjb25zdCBSYW5kb21pemUgPSAobWluLCBtYXgpID0+IHtcbiAgbWluID0gTWF0aC5jZWlsKG1pbilcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpXG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG59XG5cbmV4cG9ydCBjb25zdCBFeHRlbmQgPSAoYSwgYikgPT4ge1xuICBmb3IodmFyIGtleSBpbiBiKSB7XG4gICAgaWYoIGIuaGFzT3duUHJvcGVydHkoIGtleSApICkge1xuICAgICAgYVtrZXldID0gYltrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGNvbnN0IENyZWF0ZURPTUVsID0gKHR5cGUsIGNsYXNzTmFtZSwgY29udGVudCkgPT4ge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgJyc7XG4gIGVsLmlubmVySFRNTCA9IGNvbnRlbnQgfHwgJyc7XG4gIHJldHVybiBlbDtcbn1cbiIsImltcG9ydCBMb2dvQW5pbWF0aW9uIGZyb20gJy4vTG9nb0FuaW1hdGlvbidcbmltcG9ydCBBdXRoVmVyaWZpY2F0aW9uIGZyb20gJy4vQXV0aFZlcmlmaWNhdGlvbidcblxuXG4oKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgPT4ge1xuXG4gIC8vIFNWRyBMb2dvIEFuaW1hdGlvblxuICBMb2dvQW5pbWF0aW9uKClcblxuICAvLyBWZXJpZnkgQXV0aCBBY2Nlc3NcbiAgQXV0aFZlcmlmaWNhdGlvbigpXG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpXG4iXX0="}